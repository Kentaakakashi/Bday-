/* =======================
   ROOT THEME VARIABLES
======================= */
:root{
  --bg1: #fff1f6;
  --bg2: #ffe6f2;
  --accent1: #ff7ab8;
  --accent2: #ff4fa3;
  --glass: rgba(255,255,255,0.6);
  --muted: #f9eaf0;
  --text: #4a2540;
}

/* =======================
   GLOBAL RESET
======================= */
*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  font-family: 'Baloo 2', 'Comic Neue', Poppins, system-ui;
  background: linear-gradient(160deg, #ffe6f2 0%, #fff1f6 50%, #fff0f7 100%);
  color: var(--text);
  overflow-x:hidden;
  transition: background 1s ease;
}

/* =======================
   PAGE TRANSITIONS
======================= */
.page-enter { opacity:0; transform: translateY(10px) scale(.98); }
.page-enter-active { transition: all .6s cubic-bezier(.2,.9,.25,1); opacity:1; transform:translateY(0) scale(1); }
.page-exit { opacity:1; }
.page-exit-active { transition: all .45s ease; opacity:0; transform: translateY(12px) scale(.97); }

/* =======================
   SPARKLE CURSOR (FIXED)
======================= */
body { cursor:none; }

.spark-trail{
  position: fixed;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  pointer-events:none;
  background: radial-gradient(circle,#fff,#ff5fa3 60%,transparent 70%);
  box-shadow:0 0 12px #ff5fa3,0 0 24px #ff5fa3;
  transform:translate(-50%,-50%);
  animation: trailFade .5s linear forwards;
}
@keyframes trailFade{
  to{opacity:0; transform:translate(-50%,-50%) scale(.2);}
}

/* =======================
   FLOATING EMOJIS
======================= */
.float-emoji {
  position:fixed;
  pointer-events:none;
  z-index:5;
  opacity:.95;
  animation:floatUp linear forwards;
}
@keyframes floatUp {
  from{ transform: translateY(0) scale(.9); opacity:1 }
  to{ transform: translateY(-130vh) scale(1.1); opacity:0 }
}

/* =======================
   GLASS CARDS
======================= */
.glass, .card, .video-wrap, .recording-item, .typewriter {
  border-radius:20px;
  padding:20px;
  border:2px solid;
  border-image-slice:1;
  border-image-source: linear-gradient(135deg,#ffa9d8,#ff76b4,#ff5fa3);
  background: linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,245,250,.85));
  backdrop-filter: blur(8px);
  box-shadow:0 16px 45px rgba(255,90,150,.15);
  transition:.3s ease;
}
.glass:hover, .card:hover{
  transform: translateY(-6px) rotate(-.5deg) scale(1.03);
}

/* =======================
   HUB GRID
======================= */
.hub-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:24px;
  width:min(1100px,94%);
}
@media(max-width:980px){ .hub-grid{grid-template-columns:repeat(2,1fr)} }
@media(max-width:560px){ .hub-grid{grid-template-columns:1fr} }

/* =======================
   NEXT BUTTON
======================= */
.next-ultra-cute{
  padding:18px 42px;
  border-radius:99px;
  background: linear-gradient(135deg,#ffa9d8,#ff76b4,#ff5fa3);
  color:white;
  font-weight:800;
  text-decoration:none;
  box-shadow:0 18px 45px rgba(255,80,150,.45);
  transition:.25s;
}
.next-ultra-cute:hover{ transform:translateY(-6px) scale(1.05); }

/* =======================
   TYPEWRITER
======================= */
.typewriter{
  width:min(900px,92%);
  font-size:1.1rem;
  line-height:1.6;
}

/* =======================
   RECORDINGS
======================= */
.recordings-list{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.play-bubble{
  width:56px;
  height:56px;
  border-radius:14px;
  background: linear-gradient(90deg,#ff8fc4,#ff66b3);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:800;
}

/* =======================
   BACKGROUND VIDEO ✅ FIXED ID
======================= */
#bgVideo{
  position: fixed;
  inset: 0;
  width:100vw;
  height:100vh;
  object-fit: cover;
  z-index: -10;
  opacity:1;
  filter: brightness(0.7) blur(1px);
  transition: opacity 1s ease;
}
.video-hide{
  opacity:0;
  pointer-events:none;
}

/* =======================
   MUSIC BUTTON
======================= */
#musicToggle{
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 99999;
  width: 54px;
  height: 54px;
  border-radius: 50%;
  border: none;
  font-size: 22px;
  cursor: pointer;
  background: linear-gradient(135deg, #ff4fd8, #7f5cff);
  color: white;
  box-shadow: 0 0 15px rgba(255,0,150,.6);
}

/* =======================
   BEAT BORDER (OPTIMIZED)
======================= */
#beat-border{
  position: fixed;
  inset:0;
  pointer-events:none;
  z-index:9998;
}

.beat-row{
  position:absolute;
  display:flex;
  gap:3px;
}

.beat-row span{
  width:6px;
  height:16px;
  border-radius:4px;
  background: linear-gradient(to top,#ffffff,#ff77c8);
  box-shadow: 0 0 8px rgba(255,120,200,.4);
  transform-origin:center bottom;
}

.beat-top{ top:8px; left:0; width:100%; justify-content:space-evenly }
.beat-bottom{ bottom:8px; left:0; width:100%; justify-content:space-evenly }
.beat-left{ left:8px; top:0; height:100%; flex-direction:column; justify-content:space-evenly }
.beat-right{ right:8px; top:0; height:100%; flex-direction:column; justify-content:space-evenly }

/* =======================
   SCREEN GLOW ✅ FIXED Z-INDEX
======================= */
#screen-glow{
  position: fixed;
  inset:0;
  pointer-events:none;
  z-index:9997;
  opacity:0;
  filter: blur(160px);
  background: radial-gradient(circle, rgba(255,120,200,.25), transparent 70%);
  transition: opacity .12s linear;
}

/* =======================
   SOFT BEAT FLASH
======================= */
body.beat-shock{
  filter: brightness(1.12) saturate(1.15);
}

/* =======================
   PAGE BACKGROUNDS
======================= */
.memory-page{ background: linear-gradient(160deg,#ffe6f2,#ffb3c6) }
.record-page{ background: linear-gradient(160deg,#e0f7fa,#80deea) }
.edit-page{ background: linear-gradient(160deg,#fff3e0,#ffb74d) }
.surprise-page{ background: radial-gradient(circle,#ff9a9e,#fad0c4) }
